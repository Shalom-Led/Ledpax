<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<template id="home_page_front" name="Home Page">
    <t t-call="website.layout">
      	<xpath expr="." position="inside">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"></link>
			<link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css"></link>
			<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" ></link>
			<link rel='stylesheet' href="/ledpax/static/src/css/ledhome.css"></link>

      		<body class="fixed-nav sticky-footer navbar-light" id="page-top">
                <div class="content-wrapper">
                  	<div class="container-fluid">
                    <!-- Breadcrumbs-->
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item">
                        <a href="#">Dashboard</a>
                      </li>
                      <li class="breadcrumb-item active">My Dashboard</li>
                    </ol>
                    <!-- Icon Cards-->
                    <div class="row">
                      	<div class="col-lg-4 col-md-4 col-sm-4 mb-3">
							<div class="card text-white bg-primary o-hidden h-100">
								<div class="card-body">
									<div class="mr-5 text-center blockd">Project</div>
								</div>
								<a class="card-footer text-white clearfix small z-1" href="/my/project">
								<span class="float-left">View Details</span>
								<span class="float-right">
									<i class="fa fa-angle-right"></i>
								</span>
								</a>
							</div>
        				</div>
						<div class="col-lg-4 col-md-4 col-sm-4 mb-3">
							<div class="card text-white bg-warning o-hidden h-100">
								<div class="card-body">
              						<div class="mr-5 text-center blockd">Invoice</div>
            					</div>
								<a class="card-footer text-white clearfix small z-1" href="/my/invoices">
								<span class="float-left">View Details</span>
								<span class="float-right">
									<i class="fa fa-angle-right"></i>
								</span>
								</a>
          					</div>
       					</div>
						<div class="col-lg-4 col-md-4 col-sm-4 mb-3">
							<div class="card text-white bg-success o-hidden h-100">
								<div class="card-body">
									<div class="mr-5 text-center blockd">Catalogue</div>
								</div>
								<a class="card-footer text-white clearfix small z-1" href="/shop">
								<span class="float-left">View Details</span>
								<span class="float-right">
									<i class="fa fa-angle-right"></i>
								</span>
								</a>
							</div>
						</div>
      				</div>
      				<!-- Area Chart Example-->
					<div class="card mb-3">
						<div class="card-header">
							<div class="row">
								<div class="col-md-8">
									<i class="fa fa-area-chart"></i> Sales Order Graph
								</div>
								<div class="col-md-4">
									<span>
										<div class="form-group">
											<label for="yearFormControlSelect">Year</label>
											<select class="form-control" id="yearFormControlSelect"></select>
										</div>                 
									</span>
								</div>
							</div>
						</div>
						<div class="card-body">
							<canvas id="myAreaChart" width="100%" height="30"></canvas>
						</div>
      				</div>
       				<div class="row">
        				<div class="col-8">
          					<!-- Example Bar Chart Card-->
          					<!-- Card Columns Example Social Feed-->
          					<div class="mb-0 mt-4">
           						<i class="fa fa-newspaper-o"></i> Blogs
							</div>
            				<hr class="mt-2"></hr>
            				<div class="blog-img">
              					<img src="/ledpax/static/image/Layerhome.jpg"></img>
            				</div>
           					 <!-- /Card Columns-->
         				</div>
          				<div class="col-lg-4">
						  	<div class="mb-0 mt-4">
              					<br/>
              					<hr class="mt-2"></hr>
            				</div>
            				<div class="container">
              					<div id="carouselExampleControls" class="carousel vert slide" data-ride="carousel" data-interval="1300">
                					<div class="carousel-inner">
										<div class="carousel-item active">
											<!-- <img  style="height:500px;" src="/ledpax/static/image/ledpax_slide_1.jpg" /> -->
										</div>
										<div class="carousel-item">
											<!-- <img  style="height:500px;" src="/ledpax/static/image/ledpax_slide_2.jpg" /> -->
										</div>
										<div class="carousel-item">
											<!-- <img  style="height:500px;" src="/ledpax/static/image/ledpax_slide_3.jpg" /> -->
										</div>
                					</div>
              					</div>
            				</div>
          				</div>
     				</div>
					<!-- Example DataTables Card-->
					<div class="card mb-3">
						<div class="card-header">
							<i class="fa fa-table"></i>Order Details
						</div>
						<div class="card-body">
							<div class="table-responsive">
								<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
								<thead>
									<tr>
										<th>Order Number</th>
										<th>Order Date</th>
										<th>Shipping Details</th>
										<th>Total</th>
									</tr>
								</thead>
								<tbody>
									<t t-foreach="values['orders']" t-as="order">
									<tr>
										<td><span t-field="order.name"/></td>
										<td><span t-field="order.date_order"/></td>
										<td>
										<span t-field="order.partner_shipping_id.street"/>
										<span t-field="order.partner_shipping_id.street2"/>
										<span t-field="order.partner_shipping_id.city"/>
										<span t-field="order.partner_shipping_id.state_id.code"/>
										<span t-field="order.partner_shipping_id.country_id.code"/>
										<span t-field="order.partner_shipping_id.zip"/>
										</td>
										<td><span t-field="order.amount_total"/></td>
									</tr>
									</t>
								</tbody>
								</table>
							</div>
						</div>
					</div>
        		</div>
				<!-- Scroll to Top Button-->
				<a class="scroll-to-top rounded" href="#page-top">
					<i class="fa fa-angle-up"></i>
				</a>  
				<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
				<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
				<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
				<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
				<script>
					var today = new Date();
					var year = today.getFullYear();
					years = [year, year-1, year-2];
					var options = '';
					$.each(years, function(index, value) {
					options += '<option>'+value+'</option>';
					});
					$('#yearFormControlSelect').html(options);
					var graph = $.post('/my/home_page/graph_data', {year : year}, function(result){ return result});			
					$('#yearFormControlSelect').change(function(){
						year = jQuery(this).val();
						var graph = $.post('/my/home_page/graph_data', {year : year}, function(result){ return result});

						setTimeout(function(){
						if (graph){
						var graph_text = graph.responseText;
						var graph_data = graph_text.split(',');
						jQuery('#dataTable').DataTable();
						Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
						Chart.defaults.global.defaultFontColor = '#292b2c';
						var ctx = document.getElementById("myAreaChart");
						var myLineChart = new Chart(ctx, {
						type: 'line',
						data: {
						labels: ["JAN", "FEB", "MAR", "APR", "MAY", "JUNE", "JULY", "AUG", "SEP", "OCT", "NOV", "DEC"],
						datasets: [{
						label: "Sale Order",
						lineTension: 0.3,
						backgroundColor: "rgba(2,117,216,0.2)",
						borderColor: "rgba(2,117,216,1)",
						pointRadius: 5,
						pointBackgroundColor: "rgba(2,117,216,1)",
						pointBorderColor: "rgba(255,255,255,0.8)",
						pointHoverRadius: 5,
						pointHoverBackgroundColor: "rgba(2,117,216,1)",
						pointHitRadius: 20,
						pointBorderWidth: 2,
						data: graph_data,
						}],
						},
						options: {
						scales: {
						xAxes: [{
						time: {
						unit: 'date'
						},
						gridLines: {
						display: false
						},
						ticks: {
						maxTicksLimit: 7
						}
						}],
						yAxes: [{
						ticks: {
						min: 0,
						max: 100,
						maxTicksLimit: 5
						},
						gridLines: {
						color: "rgba(0, 0, 0, .125)",
						}
						}],
						},
						legend: {
						display: false
						}
						}
						});
						}			
						}, 1000);
					});
					setTimeout(function(){
					if (graph){
					var graph_text = graph.responseText;
					var graph_data = graph_text.split(',');
					jQuery('#dataTable').DataTable();
					Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
					Chart.defaults.global.defaultFontColor = '#292b2c';
					var ctx = document.getElementById("myAreaChart");
					var myLineChart = new Chart(ctx, {
					type: 'line',
					data: {
					labels: ["JAN", "FEB", "MAR", "APR", "MAY", "JUNE", "JULY", "AUG", "SEP", "OCT", "NOV", "DEC"],
					datasets: [{
					label: "Sale Order",
					lineTension: 0.3,
					backgroundColor: "rgba(2,117,216,0.2)",
					borderColor: "rgba(2,117,216,1)",
					pointRadius: 5,
					pointBackgroundColor: "rgba(2,117,216,1)",
					pointBorderColor: "rgba(255,255,255,0.8)",
					pointHoverRadius: 5,
					pointHoverBackgroundColor: "rgba(2,117,216,1)",
					pointHitRadius: 20,
					pointBorderWidth: 2,
					data: graph_data,
					}],
					},
					options: {
					scales: {
					xAxes: [{
					time: {
					unit: 'date'
					},
					gridLines: {
					display: false
					},
					ticks: {
					maxTicksLimit: 7
					}
					}],
					yAxes: [{
					ticks: {
					min: 0,
					max: 100,
					maxTicksLimit: 5
					},
					gridLines: {
					color: "rgba(0, 0, 0, .125)",
					}
					}],
					},
					legend: {
					display: false
					}
					}
					});
					}
					}, 1000);
				</script>
				</div>
			</body>
		</xpath>
	</t>
	</template>
</odoo>
